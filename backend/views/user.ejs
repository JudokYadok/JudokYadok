<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/logo.png" sizes="16x16" type="image/png">
    <title>주독야독</title>
    <style>
        #nav {
            background-color: rgba(255, 255, 255, 0.4);
            width: 300px;
            height: 100%;
            float: left;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #section {
            width: 200px;
            text-align: center;
            float: right;
            margin-right: 40%;
            margin-top: 30px;
        }

        li {
            list-style-type: none;
            margin: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        .slide {
            display: none;
        }

        @font-face {
            font-family: 'neo';
            src: local('neo'), url('/font/neo.ttf') format('ttf');
        }

        body {
            font-family: 'neo', !important;
            overflow: scroll;
        }
    </style>
</head>

<body>
    <div
        style="width: 100%; height: 30%; background-color: rgba(244, 244, 244, 0.5); padding-top: 10px; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: center;">
        <div style="display: flex; align-items: center;">
            <img src="/images/logo.png" alt="주독야독" width="50dp" height="50dp" style="margin-right: 10px;">
            <a class="navbar-brand" href="/admin/"
                style="text-decoration-line: none; color: black; font-size: 36px; font-weight: bold;"
                onmouseover="this.style.color='gray';" onmouseout="this.style.color='black';">주독야독</a>
            <span style="margin: 0 30px;"></span>

            <a class="navbar-brand" href="/admin/users"
                style="text-decoration-line: none; color: black; font-size: 18px; font-weight: bold; text-decoration: underline; text-decoration-color: #FDBBBB;"
                onmouseover="this.style.color='black'; this.style.textDecoration='none';"
                onmouseout="this.style.color='black'; this.style.textDecoration='underline'; this.style.textDecorationColor='#FDBBBB';"
                onfocus="this.style.textDecoration='none';" onblur="this.style.textDecoration='underline';">회원관리</a>
            <span style="margin: 0 10px;"></span>
            <a class="navbar-brand" href="/admin/text"
                style="text-decoration-line: none; color: gray; font-size: 18px; font-weight: bold;"
                onmouseover="this.style.color='black'; this.style.textDecoration='underline'; this.style.textDecorationColor='#FDBBBB';"
                onmouseout="this.style.color='gray'; this.style.textDecoration='none';"
                onfocus="this.style.textDecoration='underline';" onblur="this.style.textDecoration='none';">지문관리</a>
            <span style="margin: 0 10px;"></span>
            <a class="navbar-brand" href="/admin/feedback"
                style="text-decoration-line: none; color: gray; font-size: 18px; font-weight: bold;"
                onmouseover="this.style.color='black'; this.style.textDecoration='underline'; this.style.textDecorationColor='#FDBBBB';"
                onmouseout="this.style.color='gray'; this.style.textDecoration='none';"
                onfocus="this.style.textDecoration='underline';" onblur="this.style.textDecoration='none';">피드백 관리</a>
            <span style="margin: 0 10px;"></span>
            <a class="navbar-brand" href="/admin/ai"
                style="text-decoration-line: none; color: gray; font-size: 18px; font-weight: bold;"
                onmouseover="this.style.color='black'; this.style.textDecoration='underline'; this.style.textDecorationColor='#FDBBBB';"
                onmouseout="this.style.color='gray'; this.style.textDecoration='none';"
                onfocus="this.style.textDecoration='underline';" onblur="this.style.textDecoration='none';">AI 관리</a>
            <span style="margin: 0 30px;"></span>
        </div>

        <button onclick="window.location.href = '/admin/logout';"
            style="border-style: solid; font-size: 20px; font-weight: bold; background-color: white; border-width: 2px; border-color: black; border-radius: 30px; width: 111px; height: 45px; margin-right: 10px;"
            onmouseover="this.style.backgroundColor='#FDBBBB'; this.style.color='black';"
            onmouseout="this.style.backgroundColor='white'; this.style.color='black';">로그아웃</button>
    </div>

    <div id="nav">
        <ul style="padding: 0; height: 90vh; overflow-y: auto;">
            <% for (var i = 0; i < user_list.length; i++) { %>
                <li>
                    <a style="text-decoration-line: none; color: gray; font-size: 25px; font-weight: bold;"
                        onmouseover="this.style.color='black'; this.style.textDecoration='underline'; this.style.textDecorationColor='#FDBBBB'; this.style.textDecoration='none';"
                        onmouseout="this.style.color='gray'; this.style.textDecoration='none';"
                        onfocus="this.style.textDecoration='none';" onblur="this.style.textDecoration='underline'; this.style.textDecorationColor='#FDBBBB';"
                        class="dropdown-item" href="/admin/users/<%= user_list[i].user_id %>">
                        <%= user_list[i].name %>
                    </a>
                </li>
            <% } %>
        </ul>
    </div>

    <div id="section">
        <div style="display: flex; align-items: center; justify-content: center; margin-left: 60%;">
            <!-- 이미지 -->
            <img src="/images/person.png"
                style="border-radius: 50%; width: 130px; height: 130px; object-fit: cover;" alt="사용자 프로필 사진">

            <!-- 여백 -->
            <div style="margin: 50px;"></div>

            <!-- 입력 요소 -->
            <div style="display: flexbox; align-items: center; margin-top: 30px;">
                <div style="display: flex;">
                    <img class="icon" src="/images/id.png" alt="search icon" width="40px" height="40px"
                        style="margin-right: 20px;">
                    <input type="username" value="<%= user_name %>" id="username" name="username" placeholder="사용자 이름"
                        style="width: 600px; height: 40px; font-size: 20px; border-radius: 10px; border-style: solid; border-color: black;"
                        disabled>
                </div>

                <div style="display: flex; margin-top: 50px;">
                    <img class="icon" src="/images/email.png" alt="search icon" width="40px" height="40px"
                        style="margin-right: 20px;">
                    <input type="email" value="<%= user_email %>" id="useremail" name="useremail" placeholder="사용자 이메일"
                        style="width: 600px; height: 40px; font-size: 20px; border-radius: 10px; border-style: solid; border-color: black;"
                        disabled>
                </div>

                <div style="display: flex; margin-top: 50px;">
                    <img class="icon" src="/images/dday.png" alt="search icon" width="40px" height="40px"
                        style="margin-right: 20px;">
                    <input type="text" value="<%= user_createdAt %>" id="usercreatedAt" name="usercreatedAt" placeholder="사용자 가입일"
                        style="width: 600px; height: 40px; font-size: 20px; border-radius: 10px; border-style: solid; border-color: black;"
                        disabled>
                </div>

                <div style="display: flex; margin-top: 50px;">
                    <img class="icon" src="/images/dday.png" alt="search icon" width="40px" height="40px"
                        style="margin-right: 20px;">
                    <input type="text" value="<%= user_d_day %>" id="userdday" name="userdday" placeholder="수능 디데이"
                        style="width: 600px; height: 40px; font-size: 20px; border-radius: 10px; border-style: solid; border-color: black;"
                        disabled>
                </div>

                <div style="display: flex; margin-top: 100px;">
                    <button type="submit" onclick="confirmDelete('<%= user_id %>');"
                        style="align-items: center; width: 350px; height: 40px; font-weight: bold; border-style: solid; border-radius: 30px; border-color: #FDBBBB; border-width: 3px; background-color: rgba(253, 187, 187, 0.4); font-size: 20px; color: black;"
                        onmouseover="this.style.backgroundColor='white'; this.style.color='#FDBBBB';"
                        onmouseout="this.style.backgroundColor='rgba(253, 187, 187, 0.4)'; this.style.color='black';">회원탈퇴</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        function confirmDelete(user_id) {
        var confirmation = confirm("정말로 삭제하시겠습니까?");

        if (confirmation) {
            fetch('/admin/users/' + user_id, {
                method: 'DELETE'
            })
            .then(response => {
                console.log(response.ok)
                if (response.ok) {
                    window.location.href = '/admin/users';
                } else {
                    console.error('삭제에 실패했습니다.');
                }
            })
            .catch(error => {
                console.error('네트워크 오류:', error);
            });
        }
    }
    </script>
</body>

</html>